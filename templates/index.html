{% extends "base.html" %} {% from "tweet_conversation.html" import
render_tweet_conversation %} {% block title %}首页 - Twitter 备份查看器{%
endblock %} {% block content %}
<div class="header">
  <div>
    <h1>首页</h1>
    <div
      style="
        color: var(--secondary-text-color);
        font-size: 14px;
        margin-top: 4px;
      ">
      共 {{ total_tweets }} 条推文 · {{ total_users }} 位用户 · {{ total_media
      }} 个媒体文件
    </div>
  </div>
  <button class="theme-toggle" id="theme-toggle">
    <i class="fas fa-moon"></i>
  </button>
</div>

<div class="nav">
  <a href="/" class="active">时间线</a>
  <a href="/stats">统计</a>
  <a href="/search">搜索</a>
</div>

<div class="tweets-container">
  {% for tweet in tweets %} {{ render_tweet_conversation(tweet) }} {% endfor %}
</div>

{% if total_pages > 1 %}
<div class="pagination">
  {% if page > 1 %}
  <a href="/?page={{ page - 1 }}">上一页</a>
  {% endif %} {% for p in range(1, total_pages + 1) %} {% if p <= 10 %} {% if p
  == page %}
  <a class="current">{{ p }}</a>
  {% else %}
  <a href="/?page={{ p }}">{{ p }}</a>
  {% endif %} {% endif %} {% endfor %} {% if page < total_pages %}
  <a href="/?page={{ page + 1 }}">下一页</a>
  {% endif %}
</div>
{% endif %} {% if tweets|length == 0 %}
<div class="empty">
  <p>暂无推文</p>
</div>
{% endif %} {% endblock %}
